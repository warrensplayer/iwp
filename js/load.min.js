/************************************************************
 * InfiniteWP Admin panel									*
 * Copyright (c) 2012 Revmakx								*
 * www.revmakx.com											*
 *															*
 ************************************************************/

function loadItemManage(){var e='<div class="site_nav_sub"> <ul> <li><a class="manage optionSelect">MANAGE</a></li> <li><a class="install optionSelect">INSTALL</a></li> <div class="clear-both"></div> </ul> </div> <ul class="btn_rounded_gloss"> <li><a class="rep_sprite active typeSelector optionSelect typePlugin" utype="plugins" onclick="">Plugins</a></li> <li><a class="rep_sprite typeSelector optionSelect typeThemes" utype="themes" onclick="">Themes</a></li> </ul><div class="steps_hdr">Select websites to <span id="processType">Manage</span> <span class="itemUpper">Plugins</span></div><div class="siteSelectorContainer">'+siteSelectorVar+'</div><div class="advancedInstallOptions" style="display:none"><div class="steps_hdr">INSTALLATION OPTIONS</div> <div style="width:220px;"> <div class="checkbox generalSelect activateItem" onclick="">Activate  <span class="itemNameLower">'+activeItem+'</span> after install</div> <div class="checkbox generalSelect overwriteItem" onclick="">Overwrite, if <span class="itemNameLower">'+activeItem+'</span> already exist.</div> </div></div> <div class="result_block shadow_stroke_box siteSearch itemPanel" style="border:0;box-shadow: 0 0 0  rgba(0, 0, 0, 0)"><div class="optionsContent "></div>';$("#pageContent").html(e);$(".manage").click();siteSelectorNanoReset()}function loadFavourites(){var e="";if(favourites!=null&&favourites[activeItem]!=undefined&&getPropertyCount(favourites[activeItem])>0){$.each(favourites[activeItem],function(t,n){e=e+'<div class="ind_site favItems searchable"  onclick=""><a onclick="" dlink="'+n.URL+'" utype="'+activeItem+'" iname="'+n.name+'" title="'+n.name+'">'+n.name+'</a><div class="rep_sprite remove_bg"><span class="rep_sprite_backup del delFavourites "></span></div></div>'})}else e='<div class="empty_data_set"><div class="line1">You have no favorites :(</div><div class="line2">You can add favorites by <a id="searchRepository">searching through the WP Repository.</a></div></div>';var t='<div class="fav_rows_cont favSearch">'+e+'<div class="no_match hiddenCont" style="display:none">Bummer, there are no favorites that match.<br />Try typing lesser characters.</div><div class="clear-both"></div></div>';$(".installSubPanel").html(t);$(".installFavourites").addClass("disabled")}function loadManagePanel(e){$(".fetchInstall").text($(".fetchInstall").attr("tempname")).removeClass("disabled");$(".btn_loadingDiv").remove();manage=e;var t="";t=' <div class="th rep_sprite"> <div class="title"><span class="droid700">Show by</span></div> <ul class="btn_radio_slelect float-left"> <li><a class="active rep_sprite manage_'+activeItem+'_view itemName optionSelect">'+activeItem.toTitleCase()+'</a></li> <li><a class="rep_sprite manage_websites_view optionSelect">Websites</a></li> </ul> <div class="type_filter "> <input name="" id="manageFilter" type="text" class="input_type_filter searchItems manageFilter " value="type to filter" /> <div class="clear_input rep_sprite_backup" onclick=""></div></div> <div class="btn_action float-right"><a class="rep_sprite status_applyChangesCheck js_changes disabled">Apply Changes</a></div> </div> <div id="view_content" ></div>';$(".actionContent").html(t).show();pluginsListPanel(activeItem,activeItem);text=$(".fetchInstallTxt").val();if(text!="")$("#manageFilter.input_type_filter").val(text).keyup();if(activeItem=="themes")$(".manage_websites_view").click()}function loadInstallPanel(e){var t="";t='<div class="th rep_sprite siteSearch"> <div class="title"><span class="droid700">Install from</span></div> <ul class="btn_radio_slelect float-left"> <li><a class="rep_sprite active installOptions optionSelect" function="loadFavourites">My Favorites</a></li> <li><a class="rep_sprite installOptions optionSelect" function="loadRepository">WP Repository</a></li> <li><a class="rep_sprite installOptions optionSelect" function="loadComputer">My Computer</a></li> <li><a class="rep_sprite installOptions optionSelect" function="loadURL">URL</a></li> </ul> <div class="type_filter"> <input name="" type="text" class="input_type_filter favSearch favOption float-left" value="type to filter" /><div class="clear_input rep_sprite_backup"  onclick=""></div><div class="add_to_fav_link float-left rep_sprite_backup" id="addToFavouritesCustom">Add to My favorites</div> </div> <div class="btn_action float-right"><a class="rep_sprite status_favItems installFavourites favOption itemName disabled">Install '+activeItem.toTitleCase()+'</a></div> </div><div class="content"><span class="installSubPanel"> </span><div class="clear-both"></div></div>';$("."+e).html(t);loadFavourites()}function loadRepository(){var e="";if(activeItem=="plugins")var t="eg. seo, google";else var t="eg. black, two columns";var n='<div class="th_sub rep_sprite"> <ul class="th_sub_nav"> <li><a class="rep_sprite active searchVar optionSelect" dval="search">SEARCH</a></li> <li><a class="rep_sprite searchVar optionSelect" dval="featured">FEATURED</a></li> <li><a class="rep_sprite searchVar optionSelect" dval="popular">POPULAR</a></li> <li><a class="rep_sprite searchVar optionSelect" dval="new">NEWEST</a></li> <li><a class="rep_sprite searchVar optionSelect" dval="updated">RECENTLY UPDATED</a></li> </ul> </div> <div class="rows_cont"> <div class="content searchCont"> <div class="form_cont float-left" style="padding:0; border:0;width: 500px;"> <div class="tr"> <div class="tl two_liner" style="width: 19%;">Search <span class="itemName">'+activeItem.toTitleCase()+'</span><br /> by Keyword</div> <div class="td"> <input name="" type="text" class="searchText txtHelp onEnter" onenterbtn=".searchItem" helpTxt="'+t+'" value="'+t+'" style="color:#AAAAAA" /> </div> <div class="clear-both"></div> </div> </div> <div class="btn_action float-left" style="margin: 7px 0 0 -54px;"><a class="rep_sprite searchItem">Search <span class="itemName">'+activeItem.toTitleCase()+'</span></a></div> <div class="clear-both"></div> </div> <div class="wp_repository_cont"></div> </div>';return n}function pluginsListPanel(e,t){$(".status_applyChangesCheck").addClass("disabled");var n="",r,i,s,o,u,a,f,l,c,h,p,d;if(e=="sites")var v=manage.data.getSearchedPluginsThemes.siteView;else var v=manage.data.getSearchedPluginsThemes.typeView;if(v!=null&&v!=undefined&&getPropertyCount(v)>0){$.each(v,function(d,v){if(e!="sites")i=getFirstKey(v,2);else i=site[d];n=n+'<div class="ind_row_cont "> <div class="row_summary" > <div class="row_arrow"></div>  <div class="row_name searchable">'+i.name+'</div> <div class="clear-both"></div> </div>';n=n+'<div class="row_detailed" style="display:none"> <div class="rh"> <div class="row_arrow"></div><div class="row_name">'+i.name+'</div> <div class="clear-both"></div> </div><div class="rd">';$.each(v,function(i,v){if(i=="notInstalled"){r="Not Installed";o='<li><a class="rep_sprite">Install</a><a class="rep_sprite">Install & Activate</a></li> '}else if(i=="active"){r="Active";s="Deactivate"}else if(i=="inactive"){r="Inactive";s="Activate";o='<li><a class="rep_sprite">Activate</a></li><li><a class="rep_sprite">Delete</a></li> '}n=n+'<div class="row_updatee"> <div class="row_updatee_ind"> <div class="label_updatee  float-left"> <div class="label droid700 float-left"><span class="'+i+'">'+r+'</span></div> <div class="count float-left"><span>'+getPropertyCount(v)+'</span></div> <div class="clear-both"></div> </div><div class="items_cont float-left">';$.each(v,function(r,v){if(e=="sites"){u=d;a=r;f=v.name}else{u=r;a=d;f=site[r].name}if(i!="notInstalled"){if(i=="inactive")l='<li><a class="rep_sprite actionButton applyChangesCheck optionSelectOne" sid="'+u+'" did="'+a+'"  itemName="'+v.name+'" utype="'+t+'" action="delete">Delete</a></li>';else l="";if(i=="active")c="actionButtonRounded";else c="";if(activeItem=="themes"&&i=="active")o="";else{if(activeItem=="themes")h="stylesheet="+v.stylesheet;else h="";o='<ul class="btn_radio_slelect small float-left"><li><a class="rep_sprite actionButton applyChangesCheck '+c+" optionSelectOne site"+u+'" itemName="'+v.name+'" '+h+' sid="'+u+'" did="'+a+'" utype="'+t+'" action='+s.toLowerCase()+">"+s+"</a></li>"+l+"</ul>"}}else{if(activeItem=="themes")p="http://wordpress.org/extend/themes/download/"+v.slug+".zip";else p="http://downloads.wordpress.org/plugin/"+v.slug+".zip";o='<a class="installSinglePlugin installItem" action="install"  sid="'+u+'" did="'+a+'" dLink="'+p+'"  itemName="'+v.name+'" utype="'+t+'" >Install</a> '}n=n+' <div class="item_ind float-left"> <div class="item float-left">'+f+'</div> <div class="select_operation"> '+o+" </div></div>  "});n=n+' </div><div class="clear-both"></div></div> </div>'});n=n+"</div></div></div>"})}if(e=="sites")d="websites";else d=activeItem;n='<div class="no_match hiddenCont" style="display:none">Bummer, there are no '+d+" that match.<br />Try typing lesser characters.</div>"+n;$("#view_content").html(n)}function loadUpdateContent(){var e='<div class="actionContent result_block shadow_stroke_box siteSearch" id="mainUpdateCont"><div class="th rep_sprite"> <div class="title"><span class="droid700">Show by</span></div> <ul class="btn_radio_slelect float-left"> <li><a class="rep_sprite websites_view optionSelect">Websites</a></li> <li><a class=" rep_sprite optionSelect plugins_view">Plugins</a></li> <li><a class="rep_sprite themes_view optionSelect">Themes</a></li> <li><a class="rep_sprite wp_view optionSelect">WP</a></li> </ul> <div class="type_filter"> <input name="filter" type="text" class="input_type_filter searchSiteUpdate" value="type to filter" /><div class="clear_input rep_sprite_backup"  onclick=""></div></div><div class="hidden_updates"><a class="float-left rep_sprite user_select_no" id="viewHidden">Hidden Updates</a></div>  <div class="btn_action float-right"><a class="rep_sprite status_ind_row_cont update_group needConfirm" parent="item_ind" selector="item_ind">Update All</a></div> <div class="select_cont float-right"><span>Select: </span><a class="all" selector="ind_row_cont">All</a><a class="invert" selector="ind_row_cont">Invert</a><a class="none" selector="ind_row_cont">None</a></div> </div><div id="siteViewUpdateContent" class="updateTabs" style="display:none"></div><div id="WPViewUpdateContent"  class="updateTabs" style="display:none"></div><div id="themeViewUpdateContent" style="display:none"  class="updateTabs"></div><div id="pluginViewUpdateContent" style="display:none"  class="updateTabs"></div> ';e=e+"</div></div>";$("#pageContent").html(e);if(toolTipData.viewHidden!="true")$("#viewHidden").qtip({events:{hide:function(e,t){tempArray={};tempArray["requiredData"]={};valArray={};valArray["viewHidden"]=true;tempArray["requiredData"]["updateUserhelp"]=valArray;tempArray["requiredData"]["getUserHelp"]=1;doCall(ajaxCallPath,tempArray,"setTooltipData")}},id:"viewHiddenQtip",content:{text:" ",title:{text:"View your hidden updates here.",button:true}},position:{my:"top center",at:"bottom center"},show:{event:false,ready:true},hide:false,style:{classes:"ui-tooltip-shadow ui-tooltip-dark",tip:{corner:true,width:8,height:5}}})}function displayUpdateContent(view){var content="",emptyStatusType,json,childFlag,WPCount,pluginsCount,themesCount,totalCount,displayName,updateCount,firstKey,mtypeVar,extraClass,typeName,typeVar,uType,versionContent,itemClasses,checkBoxClass,hiddenButton,itemName,iversionContent,iversionContent;if(view=="sites"){content=content+'<div class="th_sub rep_sprite"> <div class="select_box_cont float-left group_container"> </div> <div class="label float-right"><span style="margin-right:132px;">THEMES</span></div> <div class="label float-right"><span style="margin-right:21px;">PLUGINS</span></div> <div class="label float-right"><span style="margin-right:31px;">WP</span></div> </div><div class="empty_data_set hiddenCheck" style="display:none"> <div class="line2">Hurray! Everything is up-to-date.</div></div>';emptyStatusType="Websites"}else{if(view=="wp")emptyStatusType="WordPress installations";else emptyStatusType=view.toTitleCase()}content=content+'<div class="rows_cont"><div class="no_match hiddenCont" style="display:none">Bummer, there are no matches.<br />Try typing lesser characters.</div>';json=eval(view+"json");var pFlag=0,childFlag;mtypeVar="";var objKey=0;if(json!=null&&json!=undefined&&getPropertyCount(json)>0){$.each(json,function(e,t){childFlag=0;if(view=="sites"){if(json[e].core!=undefined)WPCount=getPropertyCount(json[e].core);else WPCount=0;if(json[e].plugins!=undefined)pluginsCount=getPropertyCount(json[e].plugins);else pluginsCount=0;if(json[e].themes!=undefined)themesCount=getPropertyCount(json[e].themes);else themesCount=0;totalCount=WPCount+pluginsCount+themesCount;displayName=site[e].name;updateCount=site[e].updateCount;pFlag=0}else{firstKey=getFirstKey(t);if(view=="wp")displayName=e;else displayName=t[firstKey].name;totalCount=getPropertyCount(t);pFlag=1}if(pFlag==0)content=content+'<div class="ind_row_cont js_sites active visible parent_'+parentFlag+'" selector="parent_'+parentFlag+'" siteid="'+e+'">';else content=content+'<div class="ind_row_cont active row_parent_'+parentFlag+" parent_"+parentFlag+'" parent="parent_'+parentFlag+'" selector="'+view+'" did="'+e+'" >';content=content+'<div class="row_summary" > <div class="row_arrow"></div> <div class="row_checkbox main_checkbox"></div> <div class="row_name searchable">'+displayName+"</div>";if(view=="sites")content=content+'<div class="row_update_count updateCount_wp_parent_'+parentFlag+'"><span>'+mainJson.siteViewCount[e].core+'</span></div> <div class="row_update_count updateCount_plugins_parent_'+parentFlag+'"><span>'+mainJson.siteViewCount[e].plugins+'</span></div> <div class="row_update_count updateCount_themes_parent_'+parentFlag+'"><span>'+mainJson.siteViewCount[e].themes+"</span></div>";content=content+'<div class="row_action float-left"><a class="update_group needConfirm" selector="parent_'+parentFlag+'" parent="parent_'+parentFlag+'"><span class="status_parent_'+parentFlag+' statusSpan">Update All</span></a></div> <div class="clear-both"></div></div><div class="row_detailed" style="display:none"><div class="rh"><div class="row_arrow"></div><div class="row_checkbox main_checkbox"></div><div class="row_name">'+displayName+'</div><div class="row_action float-right"><a class="update_group needConfirm" selector="parent_'+parentFlag+'" parent="parent_'+parentFlag+'"><span class="status_parent_'+parentFlag+' statusSpan">Update All</span></a></div><div class="clear-both"></div></div><div class="rd">';if(pFlag==1){if(view=="plugins"){mtypeVar="Plugins"}else if(view=="themes"){mtypeVar="Themes"}else if(view=="wp"){mtypeVar="WordPress"}if(getPropertyCount(t)>1)content=content+'<div class="select_action_long select_parent_'+parentFlag+'"><div class="select_cont float-left"><span>Select: </span><a class="all" selector="parent_'+parentFlag+'">All</a><a class="invert"  selector="parent_'+parentFlag+'">Invert</a><a class="none" selector="parent_'+parentFlag+'">None</a></div><a class="action float-right update_group needConfirm" selector="parent_'+parentFlag+'" parent="parent_'+parentFlag+'"><span class="status_parent_'+parentFlag+' statusSpan">Update All </span><span class="typeVar typeVar_parent_'+parentFlag+'  test21">'+mtypeVar+'</span></a><div class="clear-both"></div></div>'}$.each(t,function(t,n){if(pFlag==0)extraClass="row_child_"+childFlag+parentFlag;else extraClass="row_parent_"+parentFlag;content=content+'<div class="row_updatee '+extraClass+'"><div class="row_updatee_ind">';if(pFlag==1)content=content+'<div class="items_cont_long float-left">';if(pFlag==0){if(t=="core")typeName="WP";else typeName=t;typeVar=t.toTitleCase();content=content+'<div class="label_updatee"><div class="label droid700 float-left">'+typeName+'</div><div class="count float-left"><span selector="child_'+childFlag+parentFlag+'">'+getPropertyCount(n)+'</span></div><div class="clear-both"></div></div>';content=content+'<div class="items_cont float-left">';if(getPropertyCount(n)>1)content=content+'<div class="select_action select_child_'+childFlag+parentFlag+'"><div class="select_cont float-left"><span>Select: </span><a class="all" selector="child_'+childFlag+parentFlag+'" parent="parent_'+parentFlag+'">All</a><a class="invert" parent="parent_'+parentFlag+'"  selector="child_'+childFlag+parentFlag+'">Invert</a><a class="none" parent="parent_'+parentFlag+'" selector="child_'+childFlag+parentFlag+'">None</a></div><a class="action float-right update_group needConfirm" parent="parent_'+parentFlag+'"  selector="child_'+childFlag+parentFlag+'"><span class="status_child_'+childFlag+parentFlag+' statusSpan">Update All </span><span class="typeVar typeVar_child_'+childFlag+parentFlag+'">'+typeVar+'</span></a><div class="clear-both"></div></div>'}if(view!="sites"){if(view=="wp"){uType="core";versionContent='<a href="http://codex.wordpress.org/Changelog/'+e+'" target="_blank">v'+e+"</a>"}else{if(view=="plugins")versionContent='<a href="http://wordpress.org/extend/plugins/'+n.slug+'/changelog/" target="_blank" >v'+n.new_version+"</a>";else versionContent='<a class="cutClass">v'+n.new_version+"</a>";uType=view.toLowerCase()}itemClasses="active";checkBoxClass="";hiddenButton="Hide";if(n.hiddenItem==true){itemClasses="hidden";checkBoxClass="style='display:none'";hiddenButton="Show";updateCheckArray["parent_"+parentFlag]=1}content=content+'<div class="item_ind '+itemClasses+"  float-left parent_"+parentFlag+'  selectOption" iname="'+n.name+'" parent="parent_'+parentFlag+'" selector="parent_'+parentFlag+'" did="'+e+'" sid="'+t+'" utype="'+uType+'" onclick=""><div class="row_checkbox"'+checkBoxClass+"></div>";if(view!="sites")content=content+'<div class="item" style="width:750px">';else content=content+'<div class="item">';content=content+site[t].name+' <span class="version">'+versionContent+'</span></div><div class="actions"><a class="float-left update_single" parent="parent_'+parentFlag+'" selector="parent_'+parentFlag+'" >Update</a> <a class="float-left hideItem" parent="parent_'+parentFlag+'" selector="parent_'+parentFlag+'">'+hiddenButton+"</a></div></div>"}else{$.each(n,function(n,r){if(t=="core"){iversionContent='<a href="http://codex.wordpress.org/Changelog/'+n+'" target="_blank">v'+n+"</a>";uType=t.toLowerCase();itemName=""}else{itemName=r.name;if(t=="plugins")iversionContent='<a href="http://wordpress.org/extend/plugins/'+r.slug+'/changelog/" target="_blank">v'+r.new_version+"</a>";else iversionContent='<a class="cutClass">v'+r.new_version+"</a>";uType=t}itemClasses="active";checkBoxClass="";hiddenButton="Hide";if(r.hiddenItem==true){itemClasses="hidden";checkBoxClass="style='display:none'";hiddenButton="Show";updateCheckArray["parent_"+parentFlag]=1;updateCheckArray["child_"+childFlag+parentFlag]=1}content=content+'<div class="item_ind   '+itemClasses+"   float-left parent_"+parentFlag+" child_"+childFlag+parentFlag+' selectOption hasParent" iname="'+itemName+'" selector="child_'+childFlag+parentFlag+'" parent="parent_'+parentFlag+'" did="'+n+'" sid="'+e+'" utype="'+uType+'" onclick=""><div class="row_checkbox" '+checkBoxClass+'></div><div class="item">'+itemName+' <span class="version">'+iversionContent+'</span></div><div class="actions"><a class="float-left update_single" parent="parent_'+parentFlag+'" selector="child_'+childFlag+parentFlag+'">Update</a> <a class="float-left hideItem" parent="parent_'+parentFlag+'" selector="child_'+childFlag+parentFlag+'">'+hiddenButton+"</a></div></div>"})}content=content+'</div><div class="clear-both"></div></div></div>';childFlag++});if(view!="sites")content=content+"<div class='clear-both'></div>";content=content+"</div></div></div>";parentFlag++})}else content='<div class="empty_data_set"> <div class="line2">Hurray! All '+emptyStatusType+" are up-to-date.</div></div>";return content}function loadAddSite(e){var t="";var n="";var r="";if(typeof isGoogle!="undefined"){if(isGoogle==1){var i='<div class="tr googleEditOptions" style=""> <div class="tl" style="padding-top: 4px">Google Analytics Profile</div><div class="td"> <select name="rand_bottom" id="gg" style=""><option class="emptyG" profileID="" profileName="" profileURL="">No Profile</option>';var s='</select><div style="margin-top: 5px; color: #737987;">Website name - Profile name</div></div><div class="clear-both"></div>  </div> ';if(gData!=null){$.each(gData,function(e,t){r=r+"<option profileID="+t.gaProfileID+" profileName="+t.gaProfileName+" profileURL="+t.gaSiteURL+">"+t.gaSiteURL+" - "+t.gaProfileName+"</option>"})}r=i+r+s}}if(group!=null&&group!=undefined&&group.length!=0){n='<div class="tr assignGroupItem addSiteToggleDiv" id="addSiteGroupsPanel"><div class="tl">Existing Groups</div><div class="td"><div class="addSiteGroups">'+groupGenerate(2)+'</div></div><div class="clear-both"></div></div>'}t=t+'<div class="dialog_cont add_site"> <div class="th rep_sprite " id="addSiteSprite"> <div class="title droid700">ADD A WORDPRESS SITE</div> <a class="cancel rep_sprite_backup">cancel</a></div> <div class="add_site form_cont " style="border:0;"> <div class="tr"> <div class="tl ">wp-admin URL</div> <div class="td"> <input name="" type="text" id="adminURL" class="onEnter" onenterbtn=".addSiteButton" /> </div> <div class="clear-both"></div> </div>  <div class="tr"> <div class="tl ">Admin Username</div> <div class="td"> <input name="" type="text" id="username" class="onEnter" onenterbtn=".addSiteButton" /> </div> <div class="clear-both"></div> </div> <div class="tr websiteURLCont" style="display:none"> <div class="tl">Website URL</div> <div class="td"> <input name="website" type="text" id="websiteURL" class="txtHelp onEnter" onenterbtn=".addSiteButton" value="http://" helptxt="http://" /> </div> <div class="clear-both"></div> </div><div class="tr activationKeyDiv" > <div class="tl ">Activation Key</div> <div class="td"> <input name="" type="text" id="activationKey" class="onEnter" onenterbtn=".addSiteButton" /> <div style="color: #737987;line-height: 16px;">The Activation Key will be displayed every time you activate the IWP Client Plugin on your website.</div> </div> <div class="clear-both"></div> </div> ';t=t+r+'<div class="tr" style="margin-top: 25px; margin-bottom: 15px;"> <div class="tl"></div> <div class="td"><span class="toggle_link"><span class="addSiteToggleAction assignToggleAction">Assign to groups</span></span><span class="toggle_link"><span class="addSiteToggleAction folderToggleAction">Folder protection</span><span class="addSiteToggleAction advancedContentTypeAction">Advanced</span></span></div> <div class="clear-both"></div> </div> <div class="tr folderProtectionItem addSiteToggleDiv" style="display:none"> <div class="tl"></div> <div class="td"> <input name="" type="text" class="txtHelp folder_protect" id="addSiteAuthUsername" helptxt="username" value="username" style="color:#AAAAAA"/> <input name="" type="password" id="addSiteAuthUserPassword" class="txtHelp folder_protect" helptxt="password" value="password" style="color:#AAAAAA"/> </div> <div class="clear-both"></div> </div> <div class="tr advancedContentTypeItem addSiteToggleDiv" style="display:none"> <div class="tl">CONTENT TYPE</div> <div class="td"> <div class="c_radio cTypeRadio active">application/x-www-form-urlencoded</div> <div class="c_radio cTypeRadio">multipart/form-data</div> <div class="c_radio cTypeRadio">text/plain</div> <div class="c_radio cTypeRadio customTxt"> <input name="" type="text" style="width:200px; height:10px; margin-top: -4px;" class="txtHelp customTxtVal" value="custom type" helptxt="custom type"> </div> </div> <div class="clear-both"></div> <div class="tl">CONNECT USING</div> <div class="td"> <ul class="btn_radio_slelect float-left" style="margin-left:10px;"> <li><a class="rep_sprite optionSelect connectURLClass active" def="default">Default</a></li> <li><a class="rep_sprite optionSelect connectURLClass" def="siteURL">Site URL</a></li> <li><a class="rep_sprite optionSelect connectURLClass"  def="adminURL">wp-admin URL</a></li> </ul> </div> <div class="clear-both"></div> </div> <div class="tr assignGroupItem addSiteToggleDiv"> <div class="tl two_liner">New Group<br /> <span style="text-transform:none; font-size:12px;">(separate by comma)</span></div> <div class="td"> <input name="" type="text" class="txtHelp" helptxt="eg. group1, group2" value="eg. group1, group2" id="groupText" style="color:#AAAAAA"/> </div> <div class="clear-both"></div> </div> '+n+'</div> <div class="clear-both"></div> <div class="th_sub rep_sprite"><span class="rep_sprite_backup info float-left" id="clientPluginDescription">The IWP Client Plugin should be installed on the sites before adding them.</span> <div class="btn_action float-right "><a class="rep_sprite addSiteButton">Add Site</a></div> </div> <div class="clear-both"></div> </div>';$("#modalDiv").dialog("close");$("#modalDiv").dialog("destroy");$("#modalDiv").html(t).dialog({width:"auto",modal:true,position:"center",resizable:false,open:function(e,t){bottomToolBarHide()},close:function(e,t){bottomToolBarShow()}});$(".assignGroupItem").hide();if(typeof isGoogle!="undefined"){if(gSites!=null){$.each(gSites,function(t,n){$("#gg option").each(function(r,i){if($(this).attr("profileID")==n.gaProfileID&&e==t){$(this).attr("selected","selected")}})})}$("#gg").select2()}$(".dialog_cont #gg").css("visibility","visible");$(".dialog_cont #gg").css("top","auto")}function loadActivityPopup(e){$("#activityPopup").html(e.data.getHistoryPanelHTML)}function callActivityPopup(){var e={};e["requiredData"]={};e["requiredData"]["getHistoryPanelHTML"]=1;doCall(ajaxCallPath,e,"loadActivityPopup","json")}function loadComputer(){var e='<div class="itempanel_ind"><div id="uploaderContent"></div><div class="btn_action float-left" style="margin:-5px 0 0 -31px"><a class="rep_sprite installFromComputer disabled">Install '+activeItem+'</a></div><div class="clear-both"></div></div>';return e}function loadURL(){var e='<div class="itempanel_ind"> <div class="float-left" style="text-align:right; color:#737987; padding-top: 15px;"><span class="droid700" style="font-size:11px;">ENTER URL</span><br /></div><div class="float-left"> <input name="" type="text" id="installFromURLTxt" value="http://" helptxt="http://" class="txt onEnter txtHelp" style="width: 300px; height: 17px; margin: 5px; color: rgb(170, 170, 170);"  onenterbtn="#installFromURL" /><br><span>eg. <span class="droid700">http://</span>www.wordpress.org</span> </div>  <div class="btn_action float-left"><a class="rep_sprite disabled" id="installFromURL" style="margin-left:20px">Install '+activeItem+'</a></div><div class="clear-both"></div> </div></div>';return e}function loadBackup(e,t,n,r){var i,s,o,u;if(e==1){if(n==1){u='<a class="rep_sprite scheduleBackup backupTab" id="backupNow" style="display:none">Schedule Now</a>';s=" SCHEDULE"}else{u='<a class="rep_sprite" id="backupNow" class="backupTab" style="display:none">Backup Now</a>';s=""}i='<div class="th_sub rep_sprite"><ul class="two_steps"><li><a class="current rep_sprite_backup next" id="selectWebsitesTab">SELECT WEBSITES</a></li><li class="line"></li> <li><a id="enterDetailsTab" class="clickNone rep_sprite_backup next">ENTER DETAILS</a></li></ul> </div><div class="siteSelectorContainer backupTab">'+siteSelectorRestrictVar+'</div> <div id="backupOptions" class="backupTab" style="display:none">';o='<div class="btn_next_step float-right rep_sprite disabled backupTab next" id="enterBackupDetails">Enter Details<div class="taper"></div></div><div class="btn_action float-right">'+u+"</div></div>"}if(n==1){enterDetailsCont='<div class="left float-left"> <div class="label">SCHEDULE NAME</div> <input name="" type="text" id="backupName" /> <div class="float-left" style="width:63%;"> <div class="label">WHEN?</div> <ul class="btn_radio_slelect"> <li><a class="rep_sprite active optionSelect whenType" id="dailySchedule">Daily</a></li> <li><a class="rep_sprite optionSelect whenType" id="weeklySchedule">Weekly</a></li> <li><a class="rep_sprite optionSelect whenType" id="monthlySchedule">Monthly</a></li> </ul> <div class="clear-both"></div> <div class="monthly weekly daily whenArgs"><span style="float:left; padding:5px 10px 5px 27px;">at</span> <div class="time_select_btn rep_sprite" id="timeSelectBtn"><a timeval="0">12 am</a></div> <div class="time_select_options" style="display:none;"> <ul class="time_select_options_am"> <div class="label">am</div> <li><a std="am" timeval="0">12</a></li> <li><a std="am" timeval="1">1</a></li> <li><a std="am" timeval="2">2</a></li> <li><a std="am" timeval="3">3</a></li> <li><a std="am" timeval="4">4</a></li> <li><a std="am" timeval="5">5</a></li> <li><a std="am" timeval="6">6</a></li> <li><a std="am" timeval="7">7</a></li> <li><a std="am" timeval="8">8</a></li> <li><a std="am" timeval="9">9</a></li> <li><a std="am" timeval="10">10</a></li> <li><a std="am" timeval="11">11</a></li> <div class="clear-both"></div> </ul> <ul class="time_select_options_pm"> <div class="label">pm</div> <li><a std="pm" timeval="12">12</a></li> <li><a std="pm" timeval="13">1</a></li> <li><a std="pm" timeval="14">2</a></li> <li><a std="pm" timeval="15">3</a></li> <li><a std="pm" timeval="16">4</a></li> <li><a std="pm" timeval="17">5</a></li> <li><a std="pm" timeval="18">6</a></li> <li><a std="pm" timeval="19">7</a></li> <li><a std="pm" timeval="20">8</a></li> <li><a std="pm" timeval="21">9</a></li> <li><a std="pm" timeval="22">10</a></li> <li><a std="pm" timeval="23">11</a></li> <div class="clear-both"></div> </ul> </div> </div> </div> <div class="float-right" style="width:36%;"> <div class="label">NO OF BACKUPS TO KEEP</div> <div class="qty_selector_cont"> <div class="qty_btn decr rep_sprite pressed">-</div> <input name="" id="backupTotal" type="text" value="5"/> <div class="qty_btn incr rep_sprite">+</div> <div class="clear-both"></div> </div> </div> <div class="clear-both"></div> <div style="margin-top:10px; display:none" class="monthly whenArgs"><span style="float:left; padding:5px 10px;">every</span> <div class="date_select_cont float-left"> <ul> <li><a class="rep_sprite active selectDate">1</a></li> <li><a class="rep_sprite selectDate">2</a></li> <li><a class="rep_sprite selectDate">3</a></li> <li><a class="rep_sprite selectDate">4</a></li> <li><a class="rep_sprite selectDate">5</a></li> <li><a class="rep_sprite selectDate">6</a></li> <li><a class="rep_sprite selectDate">7</a></li> <div class="clear-both"></div> </ul> <ul> <li><a class="rep_sprite selectDate">8</a></li> <li><a class="rep_sprite selectDate">9</a></li> <li><a class="rep_sprite selectDate">10</a></li> <li><a class="rep_sprite selectDate">11</a></li> <li><a class="rep_sprite selectDate">12</a></li> <li><a class="rep_sprite selectDate">13</a></li> <li><a class="rep_sprite selectDate">14</a></li> <div class="clear-both"></div> </ul> <ul> <li><a class="rep_sprite selectDate">15</a></li> <li><a class="rep_sprite selectDate">16</a></li> <li><a class="rep_sprite selectDate">17</a></li> <li><a class="rep_sprite selectDate">18</a></li> <li><a class="rep_sprite selectDate">19</a></li> <li><a class="rep_sprite selectDate">20</a></li> <li><a class="rep_sprite selectDate">21</a></li> <div class="clear-both"></div> </ul> <ul> <li><a class="rep_sprite selectDate">22</a></li> <li><a class="rep_sprite selectDate">23</a></li> <li><a class="rep_sprite selectDate">24</a></li> <li><a class="rep_sprite selectDate">25</a></li> <li><a class="rep_sprite selectDate">26</a></li> <li><a class="rep_sprite selectDate">27</a></li> <li><a class="rep_sprite selectDate">28</a></li> <div class="clear-both"></div> </ul> <ul> <li><a class="rep_sprite selectDate">29</a></li> <li><a class="rep_sprite selectDate">30</a></li> <li><a class="rep_sprite selectDate">31</a></li> <li><a class="rep_sprite empty"> </a></li> <li><a class="rep_sprite empty"> </a></li> <li><a class="rep_sprite empty"> </a></li> <li><a class="rep_sprite empty"> </a></li> <div class="clear-both"></div> </ul> </div> <div class="clear-both"></div> </div> <div style="margin-top:10px; display:none" class="weekly whenArgs"><span style="float:left; padding:5px 10px;">every</span> <div class="day_select_cont float-left"> <ul> <li><a class="rep_sprite active optionSelect" dayval="1">MON</a></li> <li><a class="rep_sprite optionSelect" dayval="2">TUE</a></li> <li><a class="rep_sprite optionSelect" dayval="3">WED</a></li> <li><a class="rep_sprite optionSelect" dayval="4">THU</a></li> <li><a class="rep_sprite optionSelect" dayval="5">FRI</a></li> <li><a class="rep_sprite optionSelect" dayval="6">SAT</a></li> <li><a class="rep_sprite optionSelect" dayval="7">SUN</a></li> </ul> </div> </div> </div> <div class="right float-left"> <div class="backup_what" style="padding-bottom:0;"> <div class="label">WHAT?</div> <ul class="btn_radio_slelect" style="margin-bottom:20px"> <li><a class="rep_sprite active optionSelect backupType" id="full">Files & DB</a></li> <li><a class="rep_sprite optionSelect backupType" id="db">DB only</a></li> </ul> <div class="clear-both"></div> <div id="backupDB" style="width:390px;"> <div class="float-left" style="width:180px;"><div class="label_sub">Exclude files & folders</div> <input name="" class="txtHelp" id="excludeFiles" type="text" value="eg. wp-admin, old-backup.zip" helpTxt="eg. wp-admin, old-backup.zip" style="color:#AAAAAA; height: 20px; margin-top: 5px;"></div> <div class="float-left" style="width:180px; margin-left:5%;"><div class="label_sub">Include folders</div> <input name="" type="text" id="includeFolders" style="height: 20px; margin-top: 5px;" ></div> <div class="clear-both"></div> </div> <div><span class="float-left" style="padding-top: 11px; margin-right: 20px;">Enable fail-safe mode for</span><div class="checkbox generalSelect float-left" id="fail_safe_check_files">Files</div><div class="checkbox generalSelect float-left" id="fail_safe_check_DB">DB</div></div><div class="clear-both"></div><div style="margin-top: -6px;">(Use when your backups fail)</div> </div> <hr class="full" style="margin-bottom: 0;" /> <div class="backup_checkbox active generalSelect" id="compression">Create zip without compression</div> <div class="backup_checkbox generalSelect" id="databaseOptimize">Optimize database tables before backup</div> </div> <div class="clear-both"></div> </div> <div class="th rep_sprite" style="border-top:1px solid #c6c9ca; height:35px">'}else{enterDetailsCont='<div class="float-left left" style="padding:20px 20px 0; width:45%;"> <div class="label">BACKUP NAME</div> <input name="" type="text" id="backupName" /> <div class="float-left"> <div class="label">NO OF BACKUPS TO KEEP</div> <div class="qty_selector_cont"> <div class="qty_btn decr rep_sprite pressed">-</div> <input name="" id="backupTotal" type="text" value="5"> <div class="qty_btn incr rep_sprite">+</div> <div class="clear-both"></div> </div> </div> <div class="float-left" style="width:210px; margin-left:30px;"> <div class="checkbox active generalSelect" id="compression">Create zip without compression</div> <div class="checkbox generalSelect" id="databaseOptimize">Optimize database tables</div> <div class="clear-both"></div> </div> </div> <div class="float-left right" style="padding:20px; width:45%;"> <div class="backup_what float-left" style="padding:0;"> <div class="label">WHAT?</div> <ul class="btn_radio_slelect float-left" style="margin-bottom:20px"> <li><a class="rep_sprite active optionSelect backupType" id="full">Files & DB</a></li> <li><a class="rep_sprite optionSelect backupType" id="db">DB only</a></li> </ul> <div class="clear-both"></div> <div id="backupDB" style="width:390px;"> <div class="float-left" style="width:180px;"><div class="label_sub">Exclude files & folders</div> <input name="" class="txtHelp" id="excludeFiles" type="text" value="eg. wp-admin, old-backup.zip" helpTxt="eg. wp-admin, old-backup.zip" style="color:#AAAAAA; height: 20px; margin-top: 5px;"></div> <div class="float-left" style="width:180px; margin-left:5%;"><div class="label_sub">Include folders</div> <input name="" type="text" id="includeFolders" style="height: 20px; margin-top: 5px;" ></div> <div class="clear-both"></div> </div> <div><span class="float-left" style="padding-top: 11px; margin-right: 20px;">Enable fail-safe mode for</span><div class="checkbox generalSelect float-left" id="fail_safe_check_files">Files</div><div class="checkbox generalSelect float-left" id="fail_safe_check_DB">DB</div><div class="clear-both"></div><div style="margin-top: -6px;">(Use when your backups fail)</div></div> </div> </div> </div> <div class="clear-both"></div> <div class="th rep_sprite" style="border-top:1px solid #c6c9ca; height: 35px;">'}content='<div class="dialog_cont create_backup create_backup_sitewise"> <div class="th rep_sprite"> <div class="title droid700">CREATE A NEW BACKUP'+s+'</div> <a class="cancel rep_sprite_backup">cancel</a></div>  '+i+enterDetailsCont+o+"</div>";$("#modalDiv").dialog("close");$("#modalDiv").dialog("destroy");$("#modalDiv").html(content).dialog({width:"auto",modal:true,position:"center",resizable:false,open:function(e,t){bottomToolBarHide()},close:function(e,t){bottomToolBarShow();forceBackup=0;$("#modalDiv").html("")}});$(".siteSelectorContainer .nano").nanoScroller({stop:true});$(".siteSelectorContainer .group_items_cont").css("height",$(".siteSelectorContainer .group_items_cont").height()).addClass("nano");$(".siteSelectorContainer .website_items_cont").css("height",$(".siteSelectorContainer .website_items_cont").height()).addClass("nano");$(".siteSelectorContainer .nano").nanoScroller();if(r!=undefined&&r!=""&&n==1){if(r.siteName!=undefined&&getPropertyCount(r.siteName)>0){$.each(r.siteName.siteIDs,function(e,t){$(".dialog_cont #s"+t).addClass("active")})}$(".dialog_cont .title").text("EDIT BACKUP");$(".dialog_cont #enterBackupDetails").removeClass("disabled");$(".dialog_cont .backupType").removeClass("active");var a=".create_backup";$("#backupName",a).val(r.backupName);$("#includeFolders",a).val(r.additionalDatas.include);$("#excludeFiles",a).val(r.additionalDatas.exclude);if(r.additionalDatas.disable_comp=="1")$("#compression",a).addClass("active");else $("#compression",a).removeClass("active");if(r.additionalDatas.what=="full")$("#full",a).click();else if(r.additionalDatas.what=="db")$("#db",a).click();if(r.additionalDatas.optimize_tables=="1")$("#databaseOptimize",a).addClass("active");if(r.additionalDatas.failSafeFiles=="1")$("#fail_safe_check_files",a).addClass("active");if(r.additionalDatas.failSafeDB=="1")$("#fail_safe_check_DB",a).addClass("active");$("#backupTotal",a).val(r.additionalDatas.limit);$("#"+r.type+"Schedule").click();var f,l;if(r.time>12){l=r.time-12;f="pm"}else{f="am";if(r.time==0)l=12;else l=r.time}$("#timeSelectBtn a",a).attr("timeval",r.time).text(l+" "+f);if(r.type=="weekly"){$(".day_select_cont ul li a",a).removeClass("active");$(".day_select_cont ul li a[dayval='"+r.day+"']",a).addClass("active")}else if(r.type=="monthly"){$(".date_select_cont ul li a",a).removeClass("active");$(".date_select_cont ul li a",a).filter(function(){return $(this).text()==r.day}).addClass("active")}$("#backupNow",a).attr("schedulekey",r.scheduleKey);if(repositoryAddonFlag==1){if(r.additionalDatas.accountInfo!=undefined&&getPropertyCount(r.additionalDatas.accountInfo)>0){scheduleRepoEditData=r.additionalDatas.accountInfo}}}if(repositoryAddonFlag==1)$(".dialog_cont ul.two_steps").removeClass("two_steps").append('<li class="line"></li><li><a class="rep_sprite_backup next" id="selectRepository">SELECT REPOSITORY</a></li>')}function loadBackupPage(e){var t="";e=e.data.getSitesBackupsHTML;if(scheduleAddonFlag==1)t=t+'<div class="site_nav_sub"> <ul> <li><a class="optionSelect active" id="normalBackup">Manual</a></li> <li><a class="optionSelect" id="scheduledBackup">Scheduled</a></li> <div class="clear-both"></div> </ul> </div>';t=t+'<div class="result_block backup backup_sitewise shadow_stroke_box siteSearch" id="backupPageMainCont"><div class="th rep_sprite"><div class="type_filter "><input name="" type="text" class="input_type_filter searchItems" value="type to filter"><div class="clear_input rep_sprite_backup"  onclick=""></div></div><div class="btn_action float-right"><a class="rep_sprite multiBackup">Create New Backup</a></div></div><div class="no_match hiddenCont" style="display:none">Bummer, there are no backups that match.<br />Try typing lesser characters.</div>'+e+"</div>";$("#pageContent").html(t);$(".removeBackup").qtip({content:{text:"Delete Backup"},position:{my:"left center",at:"right center"},show:{event:"mouseenter"},hide:{event:"mouseleave"},style:{classes:"ui-tooltip-shadow ui-tooltip-dark",tip:{corner:true,width:5,height:8}}});$(".download").qtip({content:{text:"Download Backup"},position:{my:"right center",at:"left center"},show:{event:"mouseenter"},hide:{event:"mouseleave"},style:{classes:"ui-tooltip-shadow ui-tooltip-dark",tip:{corner:true,width:5,height:8}}})}function loadHistoryPage(e){var t='<div class="result_block shadow_stroke_box history"> <div class="th rep_sprite"> <div class="title"><span class="droid700">Filter by period</span></div><div><div id="widget"> <div id="widgetField"> <span id="dateContainer">Select Date Range<div class="cal_arrow"></div></span> </div> <div id="widgetCalendar" style="height:0"> </div> </div><span class="refreshData rep_sprite"><span class="rep_sprite_backup"></span></span></div><div id="historyPagination"> <a id="historyPagination_m_left" class="jPaginatorMax"></a><div id="historyPagination_o_left" class="jPaginatorOver"></div> <div class="paginator_p_wrap"> <div class="paginator_p_bloc"> </div> </div> <div id="historyPagination_o_right" class="jPaginatorOver"></div><a id="historyPagination_m_right" class="jPaginatorMax"></a> <div class="paginator_slider" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all"> <a class="ui-slider-handle ui-state-default ui-corner-all" href="#"></a> </div> </div></div>';t=t+'<div id="historyPageContent">'+e+"</div> </div>";$("#pageContent").html(t);var n=new Date;n.addDays(-4);var r=new Date;$("#widgetCalendar").DatePicker({flat:true,format:"b d, Y",date:[new Date(n),new Date(r)],calendars:1,mode:"range",starts:1,onChange:function(e){$("#widgetField #dateContainer").get(0).innerHTML=e.join(" - ");$("#widgetField #dateContainer").append('<div class="cal_arrow"></div>')}});loadHistoryPageContent(e);$(".history .refreshData").qtip({content:{text:"Reload Data"},position:{my:"left center",at:"right center"},show:{event:"mouseenter"},hide:{event:"mouseleave"},style:{classes:"ui-tooltip-shadow ui-tooltip-dark"}})}function loadHistoryPageContent(e){e=e.data.getHistoryPageHTML;$("#historyPageContent").html(e)}function loadBottomToolbarOptions(e){var t='<div class="ind_sites_nav" btsiteid="'+e+'" id="bottomToolbarOptions"><span id="hiddenhref" style="display:none"></span> <div class="left"> <div class="nav_admin"><a class="link openHere"  sid="'+e+'">Open admin here</a><a class="link adminPopout"  sid="'+e+'">Open admin <img src="images/open_admin_new.gif" width="10px" height="10px"></a></div> <div class="nav_backup"><a class="link"  sid="'+e+'" id="singleBackupNow">Backup Now</a><a class="link"  id="viewBackups" sid="'+e+'">View Backups</a></div> </div> <div class="right"> <div class="nav_view_site"><a class="link closeBottomToolBar" href="'+site[e].URL+'" target="_blank">View Site</a><a class="link newPost" sid="'+e+'">Write new post</a></div> <div class="nav_options"><a class="link_long edit_site editSiteBtn rep_sprite_backup" sid="'+e+'">Edit site details</a><a class="link_long reload rep_sprite_backup reloadSingleStats" sid="'+e+'">Reload site data</a><a class="link_long remove rep_sprite_backup removeSite" sid="'+e+'">Remove</a></div> </div> </div>';$("#bottomToolBarSelector").append(t)}function loadBackupPopup(e){var t=e.data.getSiteBackupsHTML;$("#modalDiv").dialog("close");$("#modalDiv").dialog("destroy");$("#modalDiv").html(t).dialog({width:"auto",modal:true,position:"center",resizable:false,open:function(e,t){bottomToolBarHide()},close:function(e,t){bottomToolBarShow()}})}function loadAdminPopout(e,t){var n=ajaxCallPath+"?action=loadSite&siteID="+t;$(e).attr("href",n);$(e).attr("target","_blank");$(e).attr("clicked","1");resetBottomToolbar()}function loadPreview(e){$("#modalDiv").dialog("close");$("#modalDiv").dialog("destroy");var t=$(window).height()-140;var n=$(window).width()-100;$("#loadingDiv").show();setTimeout(function(){$("#loadingDiv").hide()},1e3);var r='<div class="preview_box"><iframe src="'+e+'" height="'+t+'px" width="'+n+'px" ></iframe><div class="preview_close cancel">close</div></div>';$("#modalDiv").html(r).dialog({width:"auto",modal:true,resizable:false,position:"center",create:function(e,t){$("html").css({overflow:"hidden"});bottomToolBarHide()},close:function(e,t){$("html").css({overflow:"auto"});bottomToolBarShow()}})}function loadAdminHere(e,t,n){$("#pageContent").hide();var r=$(window).height()-33;var i=$(window).width();var s="",o="",u="";if(t==1)s="&where=post-new";else if(t==2){s="&where=comment";o="var_0=action__IWPVAR__editcomment";u="var_1=c__IWPVAR__"+n}else if(t==3){var a=n;s="&where=post";o="var_0=action__IWPVAR__edit";u="var_1=post__IWPVAR__"+a}else if(t==4){var a=n;s="&where=link";o="var_0=action__IWPVAR__edit";u="var_1=link_id__IWPVAR__"+a}var f=ajaxCallPath+"?action=loadSite&siteID="+e+s+"&"+o+"&"+u;var l='<iframe src="'+f+'" height="'+r+'px" width="'+i+'px" ></iframe>';$("#modalDiv").dialog("close");$("#modalDiv").dialog("destroy");$("#modalDiv").dialog({width:"auto",modal:true,resizable:false,dialogClass:"padding_fix",position:"center",create:function(t,n){$("#modalDiv").html(l);$("#toolbar_sites_cont").remove();var r='<div id="toolbar_sites_cont" style="display:none"><div class="sep"></div> <div class="site rep_sprite"><div class="favicon_cont"><img src="https://getfavicon.appspot.com/'+site[e].URL+'?defaulticon=https://www.google.com/s2/u/0/favicons?domain=www.wordpress.org" width="16" height="16"></div><div class="site_name">'+site[e].name+'</div><div class="close rep_sprite_backup closePopup" onclick=""></div></div> </div>';$("#addWebsiteContainer").after(r);$("#toolbar_sites_cont").show("slide",{direction:"left"},500);setTimeout(function(){$(".site","#toolbar_sites_cont").addClass("animated")},501);$("html").css({overflow:"hidden"});bottomToolBarHide()},close:function(e,t){$(".site","#toolbar_sites_cont").removeClass("animated");$("#pageContent").show();$("html").css({overflow:"auto"});$("#toolbar_sites_cont").hide("slide",{direction:"left"},500);$(".site","#toolbar_sites_cont").removeClass("animated");bottomToolBarShow()}});if(toolTipData.adminPopup!="true")$(".showFooterSelector").qtip("show")}function loadRemoveSite(e){var t='<div class="dialog_cont remove_site"> <div class="th rep_sprite"> <div class="title droid700">REMOVE WEBSITE</div> <a class="cancel rep_sprite_backup">cancel</a></div> <div style="padding:20px;"><div style="text-align:center;" id="removeSiteCont">Are you sure you want to remove this website?<div class="site">'+site[e].URL+'</div><span>IWP Plugin will be deactivated.</span></div></div> <div class="clear-both"></div> <div class="th_sub rep_sprite" style="border-top:1px solid #c6c9ca;" id="removeSiteButtons"><div class="warning rep_sprite_backup">This action cannot be undone.</div> <div class="btn_action float-right"><a class="rep_sprite" id="removeSiteConfirm">Remove</a></div> <span class="float-right cancel" id="dontRemoveSite">Don\'t remove</span> </div> </div>';$("#modalDiv").dialog("close");$("#modalDiv").dialog("destroy");$("#modalDiv").html(t).dialog({width:"auto",modal:true,position:"center",resizable:false,open:function(e,t){bottomToolBarHide()},close:function(e,t){bottomToolBarShow()}});$("#removeSiteConfirm").attr("sid",e)}function loadSettingsPage(e){settingsData=e;e=e.data.getSettingsAll;var t="";$("#amount01").val(e.settings.general.MAX_SIMULTANEOUS_REQUEST_PER_IP);$("#amount02").val(e.settings.general.MAX_SIMULTANEOUS_REQUEST);$("#amount03").val(e.settings.general.TIME_DELAY_BETWEEN_REQUEST_PER_IP);$("#slider-range01").slider("value",e.settings.general.MAX_SIMULTANEOUS_REQUEST_PER_IP);$("#slider-range02").slider("value",e.settings.general.MAX_SIMULTANEOUS_REQUEST);$("#slider-range03").slider("value",e.settings.general.TIME_DELAY_BETWEEN_REQUEST_PER_IP);if(e.settings.general.sendAnonymous!=""&&e.settings.general.sendAnonymous!=0)$("#sendAnonymous").addClass("active");else $("#sendAnonymous").removeClass("active");if(e.settings.general.CONSIDER_3PART_IP_ON_SAME_SERVER!=""&&e.settings.general.CONSIDER_3PART_IP_ON_SAME_SERVER!=0)$("#ipRangeSame").addClass("active");else $("#ipRangeSame").removeClass("active");if(e.settings.general.executeUsingBrowser!=undefined&&e.settings.general.executeUsingBrowser!=""&&e.settings.general.executeUsingBrowser!=0)$("#executeUsingBrowser").addClass("active");else $("#executeUsingBrowser").removeClass("active");if(e.settings.general.autoSelectConnectionMethod!=undefined&&e.settings.general.autoSelectConnectionMethod!=""&&e.settings.general.autoSelectConnectionMethod!=0){$("#autoSelectConnectionMethod").addClass("active");$("#executeUsingBrowser").addClass("disabled").removeClass("active")}else{$("#autoSelectConnectionMethod").removeClass("active");$("#executeUsingBrowser").removeClass("disabled")}if(e.settings.general.enableReloadDataPageLoad!=undefined&&e.settings.general.enableReloadDataPageLoad!=""&&e.settings.general.enableReloadDataPageLoad!=0)$("#enableReloadDataPageLoad").addClass("active");else $("#enableReloadDataPageLoad").removeClass("active");if(getPropertyCount(e.settings.allowedLoginIPs)>0){$.each(e.settings.allowedLoginIPs,function(e){t=t+'<div class="ip_cont"><span class="droid700 IPData">'+e+'</span><span class="remove removeIP ">remove</span></div>'})}else t="<div id='noIP'>No IPs added.</div>";$("#noIP").remove();$(".ip_cont").remove();$("#currentPassword").val("Current Password");$("#newPassword").val("New Password");$("#newPasswordCheck").val("New Password Again");$(".change_pass_cont").hide();$("#IPContent .label").after(t);$(".passwords").blur();if(e.settings.general.httpAuth!=undefined&&e.settings.general.httpAuth.username!=undefined)$("#authUsername").val(e.settings.general.httpAuth.username);if(e.settings.general.httpAuth!=undefined&&e.settings.general.httpAuth.password!=undefined)$("#authPassword").val(e.settings.general.httpAuth.password);$("#email").val(e.accountSettings.email).removeClass("focus");if(e.settings.notifications.updatesNotificationMail.coreUpdates==1)$("#notifyWordpress").addClass("active");if(e.settings.notifications.updatesNotificationMail.pluginUpdates==1)$("#notifyPlugins").addClass("active");if(e.settings.notifications.updatesNotificationMail.themeUpdates==1)$("#notifyThemes").addClass("active");$("#email"+e.settings.notifications.updatesNotificationMail.frequency.toTitleCase()).addClass("active")}function loadReport(e,t){var n,r,i,s;if(t==undefined||t==""){n='<div class="tl">REPORT CONTENT</div> <div class="td"> <textarea name="textarea" id="panelHistoryContent" cols="45" rows="5" disabled="disabled" class="disabled">'+e.data.getReportIssueData.report+'</textarea><input type="hidden" id="panelHistoryActionID" value="'+e.data.getReportIssueData.actionID+'"></div>';r='COMMENTS<br /><span style="text-transform:none; font-size:11px; font-style:italic; font-weight:400">required</span>';i="historyIssue";preContent='<div class="preReport"><div style="text-align:center; line-height: 30px; padding-top: 10px;" id="removeSiteCont">Have you tried viewing the site response from your WP site?<br>Are you sure this is not an issue on the WordPress site\'s side?<br>Have you tried searching the <a href="http://infinitewp.com/forum/" target="_blank">forum</a> for a solution to your issue?</div><table style="width:350px; margin:20px auto;"><tr><td><div class="btn_action float-right"><a class="rep_sprite btn_blue yesReport" style="display: block; cursor:pointer; ">Yes, let me report this issue.</a></div></td><td><div class="btn_action float-right"><a class="rep_sprite cancel" style="color: #6C7277;">No, I\'ll try them first.</a></div></td></tr><tr><td></td><td align="center"></td></tr></table></div>';preDisplay="display:none;";s="REPORT ISSUE"}else{n="";r='ISSUE<br /><span style="text-transform:none; font-size:11px; font-style:italic; font-weight:400">required</span>';i="userIssue";s="REPORT ISSUE";preDisplay="";preContent=""}var o='<div class="dialog_cont send_report" style="width: 542px;"> <div class="th rep_sprite"> <div class="title droid700">'+s+'</div> <a class="cancel rep_sprite_backup">cancel</a></div> <div class=" form_cont " style="border:0;"><div class="issue_content" style="'+preDisplay+'"> <!--<div class="th rep_sprite">Add New Website</div>--> <div class="tr"> <div class="tl">SEND FROM</div> <div class="td"> <input name="" type="text" id="emailToReport" value="'+settingsData.data.getSettingsAll.accountSettings.email+'" /> </div> <div class="clear-both"></div> </div> <div class="tr"> <div class="tl two_liner">'+r+'</div> <div class="td"> <textarea name="textarea" id="customerComments" cols="45" rows="5"></textarea> </div>'+n+' </div> <div class="clear-both"></div> </div>'+preContent+' <div class="tr">  <div class="clear-both"></div> </div> </div> <div class="th rep_sprite" style="border-top:1px solid #c6c9ca; height: 35px;"><div class="btn_action float-right"><a class="rep_sprite" id="sendReportBtn" actiontype="'+i+'" style="'+preDisplay+'">Send Issue Report</a></div></div> </div>';$("#modalDiv").dialog("destroy");$("#modalDiv").html(o).dialog({width:"auto",modal:true,position:"center",resizable:false,open:function(e,t){bottomToolBarHide()},close:function(e,t){bottomToolBarShow()}})}function loadMoreInfo(e){var t=e.data.getResponseMoreInfo;if(t==""||t==null)t="No additional website response available.";var n='<div class="dialog_cont send_report" style="width: 500px;"> <div class="th rep_sprite"> <div class="title droid700">WEBSITE RESPONSE</div> <a class="cancel rep_sprite_backup">cancel</a></div> <div class=" form_cont" style="border:0;"><div class="td" id="iframeInfoDiv"></div></div></div></div>';$("#modalDiv").dialog("destroy");$("#modalDiv").html(n).dialog({width:"auto",modal:true,position:"center",resizable:false,open:function(e,t){bottomToolBarHide()},close:function(e,t){bottomToolBarShow()}});$('<iframe id="someIdFrame" width="480" height="300"/>').appendTo("#iframeInfoDiv").ready(function(){setTimeout(function(){$("#someIdFrame").contents().find("body").append(t)},500)});$("#modalDiv").dialog({position:"center"})}function loadPanelUpdate(e){var t=e.newVersion;$(".updatePanelData").remove();var n='<div class="padding updatePanelData"> <div class="updates_logo_icon_cont"> <div class="version_cont float-left"> <div class="updates_logo_icon"></div> <div class="updates_version_number">v'+appVersion+'</div> </div> <div class="updates_arrow float-left"></div> <div class="version_cont updates float-left"> <div class="updates_logo_icon"></div> <div class="updates_version_number">v'+t+'</div> <a class="change_log" href="'+e.updateDetails[t].changeLogLink+'" target="_blank">View change log</a> </div> <div class="clear-both"></div> </div> <div class="updates_descr">'+e.updateDetails[t].breifDescr+"</div> </div>";$("#updates_centre_cont").prepend(n).css({width:"341px","margin-top":"34px"});$(".updateExtraBtn").remove();$(".updateActionBtn").text("Check Now").attr("btnaction","check").removeClass("disabled");$(".updateActionBtn").closest(".btn_action").before('<div class="btn_action float-right"><a class="rep_sprite updateActionBtn updateExtraBtn" btnaction="update" version="'+t+'">Update Now</a></div>');loadUpdateNotify();$("#updateCenterCount").show()}function loadPanelUpdateDefault(){$(".updatePanelData").remove();var e='<div class="padding updatePanelData"> <div class="updates_logo_icon_cont"> <div class="version_cont float-left" style="margin-left: 76px; margin-bottom: 0px;"> <div class="updates_logo_icon"></div> <div class="updates_version_number" id="currentVersionNumber">v'+appVersion+'</div> </div><div class="clear-both"></div> </div>  </div>';$("#updates_centre_cont").prepend(e).css({width:"314px","margin-top":"33px"});$(".updateActionBtn").text("Check Now").attr("btnaction","check");$("#updateCenterCount").hide()}function loadUpdateNotify(){if(updateAvailableNotify==false){$("#updates_centre_notif").remove();var e='<div id="updates_centre_notif">An update to the admin panel is available.<span id="updateNotifyClose" version="'+updateAvailable.newVersion+'">x</span></div>';$("#updates_centre_cont").before(e)}}function loadFeatureTour(){var e=$(window).height();var t=$(window).width();var n='<iframe src="./demo/demo.html" height="'+e+'px" width="'+t+'px" id="demoTour"></iframe>';$("#modalDiv").dialog("destroy");$("#modalDiv").html(n).dialog({width:"auto",modal:true,position:"center",dialogClass:"padding_fix",resizable:false,zIndex:1020,create:function(e,t){$("html").css({overflow:"hidden"});bottomToolBarHide()},close:function(e,t){$("html").css({overflow:"auto"});bottomToolBarShow()}})}function loadFeatureTourPopup(){var e='<div class="dialog_cont take_tour" style="width:400px;"> <div class="th rep_sprite"> <div class="title droid700">TAKE A TOUR</div></div> <div style="padding:20px;"><div style="text-align:center;" id="removeSiteCont">Would you like us to show you around the app?</div><table style="width:320px; margin:20px auto;"><tr><td><div class="btn_action float-right"><a class="rep_sprite btn_blue takeTour closeTour" style="display: block; ">Sure, Take a Tour.</a></div></td><td><div class="btn_action float-right"><a class="rep_sprite closeTour cancel" style="color: #6C7277;">No thanks. I ll find my way.</a></div></td></tr><tr><td></td><td align="center"><span style="color:#96999b; text-align:centre;">You can take the tour anytime <br>from the top navigation.</span></td></tr></table></div> <div class="clear-both"></div></div>';$("#modalDiv").dialog("destroy");$("#modalDiv").html(e).dialog({width:"auto",modal:true,position:"center",resizable:false,open:function(e,t){bottomToolBarHide()},close:function(e,t){bottomToolBarShow()}})}function loadAddonsPage(e){if(e==undefined||e==""){var t={};t["requiredData"]={};t["requiredData"]["getAddonsPageHTML"]=1;doCall(ajaxCallPath,t,"loadAddonsPage")}else{$("#pageContent").html(e.data.getAddonsPageHTML)}}function loadIWPPopup(e){var t='<div class="dialog_cont steps_container" style="width:402px;"> <div class="th rep_sprite"> <div class="title droid700">LOGIN TO INFINITEWP.COM</div> <a class="cancel rep_sprite_backup">cancel</a></div><div class="dialog connect"><div class="dialog_content inner_cont" style="margin:20px 20px 10px;"><div class="label">USERNAME</div><input name="username" id="username" type="text" class="onEnter" onenterbtn=".loginIWP"><div class="label">PASSWORD</div><input class="onEnter" onenterbtn=".loginIWP" name="password" id="password" type="password"><div class="loginError"></div></div><div class="th rep_sprite bottom_bar" style="border-bottom: 0;border-top: 1px solid #D2D5D7;height: 35px;"><a class="float-left" style="padding: 10px;" href="http://infinitewp.com/wp-login.php?action=lostpassword&utm_source=application&utm_medium=userapp&utm_campaign=forgotPassword" target="_blank">Forgot Username or Password?</a><div class="float-right btn_action "><a class="rep_sprite loginIWP" actionvar="'+$(e).attr("actionvar")+'" style="margin:5px; color: #6C7277;">Login</a></div></div></div>	</div>';$("#modalDiv").dialog("destroy");$("#modalDiv").html(t).dialog({width:"auto",modal:true,position:"center",resizable:false,open:function(e,t){bottomToolBarHide()},close:function(e,t){bottomToolBarShow()}})}function loadAddToFavourites(){var e='<div class="dialog_cont steps_container" style="width:402px;"> <div class="th rep_sprite"> <div class="title droid700">ADD TO MY FAVORITES</div> <a class="cancel rep_sprite_backup">cancel</a></div><div class="dialog connect"><div class="dialog_content inner_cont" style="margin:20px 20px 10px;"><div class="label">'+activeItem.slice(0,-1)+' NAME</div><input name="iname" id="iname" type="text" class="onEnter" onenterbtn=".addToFavouritesBtn"><div class="label">'+activeItem.slice(0,-1)+' LINK</div><input class="onEnter" onenterbtn=".addToFavouritesBtn" name="dlink" id="dlink" type="text"><div class="loginError"></div></div><div class="th rep_sprite bottom_bar" style="border-bottom: 0;border-top: 1px solid #D2D5D7;height: 35px;"><div class="float-right btn_action "><a class="rep_sprite addToFavouritesBtn" utype="'+activeItem+'" style="margin:5px; color: #6C7277;">Add to My Favorites</a></div></div></div></div>';$("#modalDiv").dialog("destroy");$("#modalDiv").html(e).dialog({width:"auto",modal:true,position:"center",resizable:false,open:function(e,t){bottomToolBarHide()},close:function(e,t){bottomToolBarShow()}})}function loadConfirmationPopup(e){var t='<div class="dialog_cont take_tour" style="width: 360px;"> <div class="th rep_sprite"> <div class="title droid700">ARE YOU SURE?</div></div> <div style="padding:20px;"><div style="text-align:center; line-height: 22px;" id="removeSiteCont">Are you sure you want to proceed with this?</div><table style="width:320px; margin:20px auto;"><tr><td><div class="btn_action float-right"></div></td><td><div class="btn_action float-right" style="margin-right: 40px;"><a class="rep_sprite closeUpdateChangeNotification cancel" style="color: #6C7277;">No! Don\'t.</a></div><div class="btn_action float-right" style="margin-right: 30px; cursor:pointer;"><a class="rep_sprite btn_blue closeUpdateChangeNotification confirmAction" style="color: #6C7277;  cursor:pointer;">Yes! Go ahead.</a></div></td></tr></table></div> <div class="clear-both"></div></div>';tempConfirmObject=e;$("#modalDiv").dialog("destroy");$("#modalDiv").html(t).dialog({width:"auto",modal:true,position:"center",resizable:false,open:function(e,t){bottomToolBarHide()},close:function(e,t){bottomToolBarShow()}})}var manage,adminSiteLink,adminSiteID